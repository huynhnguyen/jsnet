<!DOCTYPE html>
<html>
<head>
	<title>benchmark numberjs with mathjs</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.16.3/math.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
	<script type="text/javascript" src="/dist/lib/operators.js"></script>
	<script type="text/javascript" src="/dist/lib/number.js"></script><script type="text/javascript" src="/dist/lib/autograd.js"></script><script type="text/javascript" src="/dist/lib/operators.js"></script><script type="text/javascript" src="/dist/lib/number.js"></script></body>
</head>
<body>
<section>dot</section>
<script type="text/javascript">
	(()=>{
		function benchMark(shA,shB){
			console.log(Date());
			const genMat = (r,c)=>_.range(r)
				.map(()=>_.range(c)
					.map((i)=>i%2==0?0:1));
			let lA = genMat(...shA), lB = genMat(...shB);
			let matA = math.matrix(lA);
			let matB = math.matrix(lB);
			console.time('mul');
			let matV = math.multiply(matA, matB);

			console.timeEnd('mul');
			let ndA = Number(lA);
			let ndB = Number(lB);
			console.time('skynet mul');
			let ndC = Operators.dot(ndA, ndB);
			console.timeEnd('skynet mul');

		}
		benchMark([20,30],[30,40]);
		benchMark([20,30],[30,40]);
		benchMark([40,60],[60,80]);
		benchMark([512,512],[512,512]);
	})();
</script>
</body>
</html>