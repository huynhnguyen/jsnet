{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/index.js","webpack:///./src/skynet_net.js","webpack:///./src/skynet_helper.js","webpack:///./src/skynet_numberjs.js"],"names":["Net","require","Helper","Numberjs","Skynet","helper","net","nb","module","exports","window","_","params","prototype","tanh","argument","grad","sigmoid","size","Logger","msg","msgType","Display","console","log","warn","error","e","sayhello","logger","Log","rangeGenerator","start","end","step","i","st","range","_range","s","v","push","reverse","arr","slice","set","key","value","arrNew","idx","remapIndex","length","arrNewkey","get","getFirst","getLast","clone","refValue","Array","Object","assign","validateShape","shapeA","shapeB","Error","getVolume","shape","reduce","a","b","ShAndVol","vol","cs","d","sh","concat","map","sp","remapSelect","sval","vsp","split","select","isSelected","selector","f","indexOf","indexGenerator","counter","c","vl","o","Date","r","Selector","selectString","shapeNew","valueNew","Float32Array","px","vx","numberjs","convertSelector","idxs","volume","version","Proxy","tolist","list","l","ll","tmp","t","reshape","newShape","val","Math","relu","transpose","vecMapping","vA","vB","ops","yB","numMapping","n","validateOps","objA","objB","add","addOp","d1","d2","mapping","minus","minusOp","mul","mulOp","div","divOp","dot","A","B","axis"],"mappings":"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","file":"skynet.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"skynet\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"skynet\"] = factory();\n\telse\n\t\troot[\"skynet\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","const Net = require('./skynet_net');\nconst Helper = require('./skynet_helper');\nconst Numberjs  = require('./skynet_numberjs');\n\nconst Skynet  = {};\nSkynet.helper = Helper;\nSkynet.net = Net;\nSkynet.nb = Numberjs;\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = Skynet;\n}\nif (typeof window !== 'undefined') {\n\twindow.Skynet = Skynet;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var _ = require('underscore');\nvar nb = require('skynet_numberjs');\n// var Helper = require('./skynet_helper')\n// Log = Helper().logger;\n\nfunction net(){\n\tthis.params = [];\n}\n\nnet.prototype.tanh = function(argument){\n\tlet grad = [];\n\t// params = W + b\n\t// var func = params\n\t// let W = params[:]; \n\t// let b = params[-1];\n\t// return math.dot(X,w)\n\treturn [0,1,1,0];\n};\n\nnet.prototype.sigmoid = function(size){\n\tthis.params = new nb(size);\n\t// fw = params[:]\n\t// bw = \n \treturn {'params': this.params};\n};\nfunction Net(){\n\treturn new net();\n}\nmodule.exports = Net;\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_net.js","var _ = require('underscore');\nconst Helper = () => {\n\t/**\n\t* print the log to console with option type\n\t* \n\t*\n\t* @param {String} msg message to print\n\t* @param {String} msgType message type refer to ```const Type```\n\t* @see Helper#Logger\n\t*/\n\tconst Logger = (msg, msgType)=>{\n\t\tmsgType = msgType | 'info';\n\t\tconst Display = {\n\t\t\t'info':console.log,\n\t\t\t'warn':console.warn,\n\t\t\t'error':console.error,\n\t\t};\n\t\ttry { \n\t\t\tDisplay[msgType](msg); \n\t\t} catch(e) {  \n\t\t\tDisplay['info'](msg); \n\t\t} \n\t}\n\treturn {\n\t\tsayhello: ()=>{return 'xin chao 2'},\t\n\t\tlogger: Logger,\n\t}\n}\nmodule.exports = Helper;\n// module.exports = Immutable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_helper.js","var _ = require('underscore');\nvar Helper = require('./skynet_helper');\nLog = Helper().logger;\n\nfunction *rangeGenerator(start, end, step){\n    let i = start, e = end, st = step;\n    for(; i < e; i += st){\n        yield i;\n    }\n}\n\nconst range = (start, end, step)=>{\n    let _range = [];\n    const s = start, e = end, st = step|1; \n    for(let v of rangeGenerator(s, e, st)){\n        _range.push(v);\n    }\n    return _range;\n}\n// Log('[statTest] range')\n// s = new Date();\n// Log(range(0,1000,1).length === 1000);\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms');\n\n//*Immutable function*\nconst reverse = (arr)=>arr.slice().reverse();\nconst set  = (arr,i, key,value)=> {\n    let arrNew = arr.slice();\n    const idx  = remapIndex(i,arrNew.length);\n    if(key){ arrNewkey[idx].key = value; }\n    else{ arrNewkey[idx] = value; }\n    return arrNew;\n}\nconst get  = (arr,i, key)=> key?arr.slice(i,i+1)[0][key]:arr.slice(i,i+1)[0];\nconst getFirst = (arr, key)=> key?arr.slice(0,1)[0][key]:arr.slice(0,1)[0];\nconst getLast  = (arr, key)=> key?arr.slice(-1)[0][key]:arr.slice(-1)[0];\nconst clone = (refValue)=>{\n    return (refValue instanceof Array)?\n        Object.assign([],refValue):Object.assign({},refValue);\n}\n\nconst validateShape = (shapeA, shapeB)=>{\n    if(''+shapeA !== ''+shapeB){ throw Error('shape not consistent') }\n}\n\nconst getVolume = (shape)=>shape.reduce((a,b)=>a*b)\nconst ShAndVol  = (shape)=>{\n    vol = reverse(shape).reduce((cs,d,i,sh)=>\n            cs.concat(i>0?getLast(cs)*sh[i-1]:1),\n        []).reverse();\n    return shape.map((d,i)=>{ return {sp:d,vol:vol[i]} })\n}\n// Log('[statTest] ShAndVol')\n// s = new Date();\n// Log(ShAndVol([2,2,3])); //\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms')\n\nconst remapIndex = (idx,s)=>{\n    idx = (idx>-1)?idx:s + idx\n    if(idx <0 || idx >= s){ throw Error('index invalid') }\n    else{ return idx }\n}\n// Log('[statTest] remapIndex')\n// s = new Date();\n// Log(remapIndex(0,4)); //0\n// Log(remapIndex(-5,4)); //error\n// r = new Date() - s;\n// Log(`[endTest] runtime ${r} ms`)\n\nconst remapSelect = (sval, shape)=>{\n    //numpy like selector\n    vsp = sval.split(',');\n    if(vsp.length > shape.length){\n        throw Error('selector is not consitent with shape')\n    }\n    select = shape.map((s,i)=>{\n            let v = (i<vsp.length)?vsp[i]:':';\n            if(v===':') { return true}\n            else { return remapIndex(+v,s) } \n        });\n    return select.map((d)=>(d===true)?d:range(d,d+1,1))\n}\n// Log('[statTest] remapSelect')\n// s = new Date();\n// Log(remapSelect('-1,:,2',[5,3,4])); //[[4],true,[2]]\n// Log(remapSelect('-1',[5,3,4])); //[[4],true,[2]]\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms');\nconst isSelected = (idx, selector)=>\n        selector.reduce((f,s,i)=>\n            f&&( (s===true)?true:s.indexOf(idx[i])>-1),true)\n        \n// Log('[statTest] isSelected')\n// s = new Date();\n// Log(isSelected([0],[[1,2]])); //false\n// Log(isSelected([1],[[1,2]])); //true\n// Log(isSelected([1],[true]));  //true\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms')\n\nfunction *indexGenerator(shape, selector, counter){\n    let i = 0, c = 0,  vl = ShAndVol(shape),\n        vol = getVolume(shape);\n    selector = selector?selector:[true];\n    for(;i<vol;i++){\n        idx = vl.map( o => ((i/o.vol)|0)%o.sp );\n        if(isSelected(idx,selector)){\n            if(!counter){ yield idx; }\n            else{  \n                yield {'c': c, 'idx': idx};\n                c += 1;\n            }\n        }\n    }\n}\n\nLog('[statTest] indexGenerator')\ns = new Date();\nfor(let idx of indexGenerator([2,3],false,true)){\n    console.log(idx);\n}\nfor(let idx of indexGenerator([2,3],[[0]])){\n    Log(idx);\n}\nfor(let idx of indexGenerator([2,3],[[0]],true)){\n    Log(idx);\n}\nr = new Date() - s;\nLog('[endTest] runtime ' + r + ' ms')\n\nSelector = {\n  get:function(d, selectString){\n    console.log(d);\n    value = d.v, shape = d.s; \n    selector = remapSelect(selectString, shape);\n    console.log('selectMaped',selector);\n    shapeNew = selector.map((d,i)=>(d===true)?shape[i]:d.length);\n    console.log(shapeNew);\n    valueNew = new Float32Array(getVolume(shapeNew));\n    for(let px in indexGenerator(shape, selector, true)){\n        idx = px.idx, c = px.c;\n        vx = reverse(idx).reduce((v,d,i)=>v+d*shape[i]);\n        valueNew[c] = value[vx]; \n    }\n    return new numberjs(shapeNew, valueNew);\n  },\n  set:function(d, selectString,v){\n    let value = d[0], shape = d[1];\n    select = convertSelector(select, shape);\n    console.log(a,idxs,v);\n  }\n}\n\nfunction numberjs(shape, value){\n    // TODO: support more than 2d array\n    this.shape  = clone(shape);\n    console.log(this.shape);\n    this.volume = getVolume(shape);\n    this.value   = value || new Float32Array(this.volume);\n    this.version = 0.1;\n    this.v = new Proxy({v:this.value, s:this.shape}, Selector);\n}\n\nnumberjs.prototype.tolist = function(){\n    let list = reverse(this.shape).reduce((l,s)=>{\n      ll = l.reduce(\n        (d,v)=>{\n          d.tmp.push(v);\n          if(d.tmp.length===s){\n            d.t.push(d.tmp);\n            d.tmp = [];\n          }\n          return d;\n        },{t:[],tmp:[]});\n      return ll.t;\n    }, this.value)[0];\n    return list;\n}\n\nnumberjs.prototype.reshape = function(newShape){\n    validateShape(this.shape, newShape);    \n    this.shape = clone(newShape);\n    return this;\n};\n\nnumberjs.prototype.tanh = (a)=>{\n    let val = a.value.map(d=>Math.tanh(d));\n    return new numberjs(a.shape,val);\n}\n\nnumberjs.prototype.relu = (a)=>{\n    throw 'not implement';\n};\n\nnumberjs.prototype.sigmoid = (a)=>{\n    val = a.value.map(d=>0.5*(Math.tanh(d)+1.0));\n    return new numberjs(a.shape,val);\n}\n\nnumberjs.prototype.transpose = function(){\n    this.shape = this.shape.reverse(); \n    return 'transpose';\n}\nconst vecMapping = (vA, vB, ops)=>{\n    validateShape(vA.shape, vB.shape);\n    return vA.map((d,i)=>ops(vA[i],yB[i]));\n}\n\nconst numMapping = (vA, n, ops)=>{\n    return vA.map((d,i)=>ops(vA,n));\n}\n\nconst validateOps = (objA, objB)=>{\n    if(   objA instanceof 'numberjs' \n       && objB instanceof 'numberjs' ){\n        return vecMapping;\n    }\n    if(   objA instanceof 'numberjs' \n       && objB instanceof 'number' ){\n        return numMapping;\n    }\n    throw Error('invalide objet input');\n}\n\nnumberjs.prototype.add = (a,b)=>{\n    const addOp   = (d1,d2)=>d1+d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, addOp);\n    return new numberjs(a.shape, value);\n};\n\nnumberjs.prototype.minus = (a,b)=>{\n    const minusOp = (d1,d2)=>d1-d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, minusOp);\n    return new numberjs(a.shape, value);\n};\n\nnumberjs.prototype.mul = (a,b)=>{\n    const mulOp   = (d1,d2)=>d1*d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, mulOp);        \n    return new numberjs(a.shape, value);  \n};\n\nnumberjs.prototype.div = (a,b)=>{\n    const divOp   = (d1,d2)=>d1/d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, divOp);     \n    return new numberjs(a.shape, value);\n};\n\nnumberjs.prototype.dot = function(A,B){\n    //currently only support 2 dim\n    for(axis in rangeGenerator(A.shape[0])){\n\n    }\n};\n\n\nfunction Numberjs(shape, value){\n    return new numberjs(shape, value);\n}\nmodule.exports = Numberjs;\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_numberjs.js"],"sourceRoot":""}