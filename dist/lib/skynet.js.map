{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/index.js","webpack:///./src/skynet_net.js","webpack:///./src/skynet_numberjs.js","webpack:///./src/skynet_helper.js"],"names":["Net","require","Helper","Numberjs","Skynet","helper","net","nb","module","exports","window","_","params","prototype","tanh","argument","grad","sigmoid","size","Log","logger","rangeGenerator","start","end","step","i","e","st","range","_range","s","v","push","reverse","arr","slice","set","key","value","arrNew","idx","remapIndex","length","arrNewkey","get","getFirst","getLast","clone","refValue","Array","Object","assign","validateShape","shapeA","shapeB","Error","getVolume","shape","reduce","a","b","ShAndVol","vol","cs","d","sh","concat","map","sp","remapSelect","sval","vsp","split","select","isSelected","selector","f","indexOf","indexGenerator","counter","c","vl","o","ravel","getAtFunc","getAt","valueFlatten","numberjs","Selector","selectString","shapeNew","filter","valueNew","Float32Array","px","vdx","newValue","func","vx","getShape","volume","_shape","version","Proxy","tolist","list","l","ll","tmp","t","T","rix","reshape","newShape","val","Math","relu","vecMapping","vA","vB","ops","yB","numMapping","n","validateOps","objA","objB","add","addOp","d1","d2","mapping","minus","minusOp","mul","mulOp","div","divOp","validateDotOps","DotvecMapping","DotnumMapping","dot","validateDotShape","Logger","msg","msgType","Display","console","log","warn","error","sayhello"],"mappings":"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","file":"skynet.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"skynet\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"skynet\"] = factory();\n\telse\n\t\troot[\"skynet\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","const Net = require('./skynet_net');\nconst Helper = require('./skynet_helper');\nconst Numberjs  = require('./skynet_numberjs');\n\nconst Skynet  = {};\nSkynet.helper = Helper;\nSkynet.net = Net;\nSkynet.nb = Numberjs;\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = Skynet;\n}\nif (typeof window !== 'undefined') {\n\twindow.Skynet = Skynet;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var _ = require('underscore');\nvar nb = require('skynet_numberjs');\n// var Helper = require('./skynet_helper')\n// Log = Helper().logger;\n\nfunction net(){\n\tthis.params = [];\n}\n\nnet.prototype.tanh = function(argument){\n\tlet grad = [];\n\t// params = W + b\n\t// var func = params\n\t// let W = params[:]; \n\t// let b = params[-1];\n\t// return math.dot(X,w)\n\treturn [0,1,1,0];\n};\n\nnet.prototype.sigmoid = function(size){\n\tthis.params = new nb(size);\n\t// fw = params[:]\n\t// bw = \n \treturn {'params': this.params};\n};\nfunction Net(){\n\treturn new net();\n}\nmodule.exports = Net;\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_net.js","var _ = require('underscore');\nvar Helper = require('./skynet_helper');\nLog = Helper().logger;\n\nfunction *rangeGenerator(start, end, step){\n    let i = start, e = end, st = step;\n    for(; i < e; i += st){\n        yield i;\n    }\n}\n\nconst range = (start, end, step)=>{\n    let _range = [];\n    const s = start, e = end, st = step|1; \n    for(let v of rangeGenerator(s, e, st)){\n        _range.push(v);\n    }\n    return _range;\n}\n// Log('[statTest] range')\n// s = new Date();\n// Log(range(0,1000,1).length === 1000);\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms');\n\n//*Immutable function*\nconst reverse = (arr)=>arr.slice().reverse();\nconst set  = (arr,i, key,value)=> {\n    let arrNew = arr.slice();\n    const idx  = remapIndex(i, arrNew.length);\n    if(key){ arrNewkey[idx].key = value; }\n    else{ arrNewkey[idx] = value; }\n    return arrNew;\n}\nconst get  = (arr,i, key)=> key?arr.slice(i,i+1)[0][key]:arr.slice(i,i+1)[0];\nconst getFirst = (arr, key)=> key?arr.slice(0,1)[0][key]:arr.slice(0,1)[0];\nconst getLast  = (arr, key)=> key?arr.slice(-1)[0][key]:arr.slice(-1)[0];\nconst clone = (refValue)=>{\n    return (refValue instanceof Array)?\n        Object.assign([],refValue):Object.assign({},refValue);\n}\n\nconst validateShape = (shapeA, shapeB)=>{\n    if(''+shapeA !== ''+shapeB){ throw Error('shape not consistent') }\n}\n\nconst getVolume = (shape)=>shape.reduce((a,b)=>a*b)\nconst ShAndVol  = (shape)=>{\n    vol = reverse(shape).reduce((cs,d,i,sh)=>\n            cs.concat(i>0?getLast(cs)*sh[i-1]:1),\n        []).reverse();\n    return shape.map((d,i)=>{ return {sp:d,vol:vol[i]} })\n}\n// Log('[statTest] ShAndVol')\n// s = new Date();\n// Log(ShAndVol([2,2,3])); //\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms')\n\nconst remapIndex = (idx,s)=>{\n    idx = (idx>-1)?idx:s + idx\n    if(idx <0 || idx >= s){ throw Error('index invalid') }\n    else{ return idx }\n}\n// Log('[statTest] remapIndex')\n// s = new Date();\n// Log(remapIndex(0,4)); //0\n// Log(remapIndex(-5,4)); //error\n// r = new Date() - s;\n// Log(`[endTest] runtime ${r} ms`)\n\nconst remapSelect = (sval, shape)=>{\n    //numpy like selector\n    vsp = sval.split(',');\n    if(vsp.length > shape.length){\n        throw Error('selector is not consitent with shape')\n    }\n    select = shape.map((s,i)=>{\n            let v = (i<vsp.length)?vsp[i]:':';\n            if(v===':') { return true}\n            else { return remapIndex(+v,s) } \n        });\n    return select.map((d)=>(d===true)?d:range(d,d+1,1))\n}\n// Log('[statTest] remapSelect')\n// s = new Date();\n// Log(remapSelect('-1,:,2',[5,3,4])); //[[4],true,[2]]\n// Log(remapSelect('-1',[5,3,4])); //[[4],true,[2]]\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms');\n\nconst isSelected = (idx, selector)=>\n        selector.reduce((f,s,i)=>\n            f&&( (s===true)?true:s.indexOf(idx[i])>-1),true)\n        \n// Log('[statTest] isSelected')\n// s = new Date();\n// Log(isSelected([0],[[1,2]])); //false\n// Log(isSelected([1],[[1,2]])); //true\n// Log(isSelected([1],[true]));  //true\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms')\n\nfunction *indexGenerator(shape, selector, counter){\n    let i = 0, c = 0,  vl = ShAndVol(shape),\n        vol = getVolume(shape);\n    selector = selector?selector:[true];\n    for(;i<vol;i++){\n        idx = vl.map( o => ((i/o.vol)|0)%o.sp );\n        if(isSelected(idx,selector)){\n            if(!counter){ yield idx; }\n            else{  \n                yield {'c': c, 'idx': idx};\n                c += 1;\n            }\n        }\n    }\n}\n\n// Log('[statTest] indexGenerator')\n// s = new Date();\n// for(let idx of indexGenerator([2,3],false,true)){\n//     console.log(idx);\n// }\n// for(let idx of indexGenerator([2,2],[true,[1]],true)){\n//     Log(idx);\n// }\n// for(let idx of indexGenerator([2,3],[[0]],true)){\n//     Log(idx);\n// }\n// r = new Date() - s;\n// Log('[endTest] runtime ' + r + ' ms')\n\nconst ravel = (a) => a.reduce((s,a)=>{return (a instanceof Array)?s.concat(ravel(a)):s.concat(a)},[]);\n\nconst getAtFunc = (value)=>{\n    if(typeof value === 'number'){\n        return {getAt:(value,counter)=>value};\n    }\n    if(a instanceof Array){\n        let valueFlatten = ravel(value);\n        return {getAt:(value,counter)=>value[counter]};\n    }\n    if(a instanceof numberjs){\n        let v = value.value;\n        return {getAt:(value,counter)=>v[counter]};\n    }\n}\n\nSelector = {\n  get:function(d, selectString){\n    value = d.v, shape = d.s; \n    selector = remapSelect(selectString, shape);\n    shapeNew = selector.map((d,i)=>(d===true)?shape[i]:d.length).filter(d=>d>1);\n    valueNew = new Float32Array(getVolume(shapeNew));\n    for(let px of indexGenerator(shape, selector, true)){\n        idx = px.idx, c = px.c;\n        vdx = reverse(idx).reduce((v,d,i)=>v+d*shape[i]);\n        valueNew[c] = value[vdx]; \n    }\n    return new numberjs(valueNew, shapeNew);\n  },\n  set:function(d, selectString, newValue){\n    value = d.v, shape = d.s; \n    selector = remapSelect(selectString, shape);\n    const getAtFunc = (value)=>{\n        if(typeof value === 'number'){\n            return {getAt:(counter)=>value};\n        }\n        if(value instanceof Array){\n            //TODO: implement check shape\n            let valueFlatten = ravel(value);\n            return {getAt:(counter)=>value[counter]};\n        }\n        if(value instanceof numberjs){\n            //TODO: implement check shape\n            let v = value.value;\n            return {getAt:(counter)=>v[counter]};\n        }\n    }\n    func = getAtFunc(newValue);\n    for(let px of indexGenerator(shape, selector, true)){\n        idx = px.idx, c = px.c;\n        vx  = reverse(idx).reduce((v,d,i)=>v+d*shape[i]);\n        // Log([vx, newValue]);\n        value[vx] = func.getAt(c);\n    }\n    return d;\n  }\n}\n\nconst getShape = (arr)=>(typeof arr === 'number')?\n    null:[arr.length].concat(getShape(arr[0])).filter(d=>d)\n// Log('[statTest] getShape')\n// s = new Date();\n// Log(getShape([2,2])); //2\n// Log(getShape([[2,2],[1,1]])); //[2,2]\n// r = new Date() - s;\n// Log('[endTest] runtime '+r+' ms')\n\nfunction numberjs(value, shape){\n    if(shape){\n        this.shape  = clone(shape);\n        this.volume = getVolume(this.shape);\n        this.value  = value;\n    }\n    else if(value){\n        _shape  = getShape(value);\n        this.shape = clone(_shape);\n        this.volume = getVolume(this.shape);\n        this.value  = new Float32Array(this.volume);\n        for(let px of indexGenerator(this.shape,false,true)){\n            let idx = px.idx, c = px.c;\n            this.value[c] = idx.reduce((v,i)=>v[i],value);\n        }\n    }\n    else{\n        //TODO: this is op instance\n        this.grad = null;\n    }\n    this.version = 0.1;\n    this.v = new Proxy({v:this.value, s:this.shape}, Selector);\n}\n\n\nnumberjs.prototype.tolist = function(){\n    let list = reverse(this.shape).reduce((l,s)=>{\n      ll = l.reduce(\n        (d,v)=>{\n          d.tmp.push(v);\n          if(d.tmp.length===s){\n            d.t.push(d.tmp);\n            d.tmp = [];\n          }\n          return d;\n        },{t:[],tmp:[]});\n      return ll.t;\n    }, this.value)[0];\n    return list;\n}\n\nnumberjs.prototype.T = function(){\n    let shapeNew = reverse(this.shape);\n    let valueNew = new Float32Array(getVolume(shapeNew));\n    for(let px of indexGenerator(shapeNew, false, true)){\n        idx = px.idx, c = px.c;\n        rix = reverse(idx);\n        vdx = reverse(rix).reduce((v,d,i)=>v+d*this.shape[i]);\n        valueNew[c] = this.value[vdx]; \n    }\n    return new numberjs(valueNew, shapeNew);\n};\n\nnumberjs.prototype.reshape = function(newShape){\n    validateShape(this.shape, newShape);    \n    this.shape = clone(newShape);\n    return this;\n};\n\nnumberjs.prototype.tanh = (a)=>{\n    let val = a.value.map(d=>Math.tanh(d));\n    return new numberjs(val, a.shape);\n}\n\nnumberjs.prototype.relu = (a)=>{\n    throw 'not implement';\n};\n\nnumberjs.prototype.sigmoid = (a)=>{\n    val = a.value.map(d=>0.5*(Math.tanh(d)+1.0));\n    return new numberjs(val, a.shape);\n}\n\nconst vecMapping = (vA, vB, ops)=>{\n    validateShape(vA.shape, vB.shape);\n    return vA.map((d,i)=>ops(vA[i],yB[i]));\n}\n\nconst numMapping = (vA, n, ops)=>{\n    return vA.map((d,i)=>ops(vA,n));\n}\n\nconst validateOps = (objA, objB)=>{\n    if(   typeof objA === 'numberjs' \n       && typeof objB === 'numberjs' ){\n        return vecMapping;\n    }\n    if(   typeof objA === 'numberjs' \n       && typeof objB === 'number' ){\n        return numMapping;\n    }\n    throw Error('invalide objet input');\n}\n\nnumberjs.prototype.add = (a,b)=>{\n    const addOp   = (d1,d2)=>d1+d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, addOp);\n    return new numberjs(value, a.shape);\n};\n\nnumberjs.prototype.minus = (a,b)=>{\n    const minusOp = (d1,d2)=>d1-d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, minusOp);\n    return new numberjs(value, a.shape);\n};\n\nnumberjs.prototype.mul = (a,b)=>{\n    const mulOp   = (d1,d2)=>d1*d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, mulOp);        \n    return new numberjs(value, a.shape);  \n};\n\nnumberjs.prototype.div = (a,b)=>{\n    const divOp   = (d1,d2)=>d1/d2;\n    const mapping = validateOps(a,b);\n    let value = mapping(a, b, divOp);     \n    return new numberjs(value, a.shape);\n};\n\nconst validateDotOps = (objA, objB)=>{\n    if(   typeof objA === 'numberjs' \n       && typeof objB === 'numberjs' ){\n        return DotvecMapping;\n    }\n    if(   typeof objA === 'numberjs' \n       && typeof objB === 'number' ){\n        return DotnumMapping;\n    }\n    if(   typeof objA === 'numberjs' \n       && typeof objB === 'number' ){\n        return DotnumMapping;\n    }\n    throw Error('invalide objet input');\n}\n\nnumberjs.prototype.dot = function(a,b){\n    validateDotShape(a.shape,b.shape);\n    \n};\n\n\nfunction Numberjs(value, shape){\n    return new numberjs(value, shape);\n}\nmodule.exports = Numberjs;\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_numberjs.js","var _ = require('underscore');\nconst Helper = () => {\n\t/**\n\t* print the log to console with option type\n\t* \n\t*\n\t* @param {String} msg message to print\n\t* @param {String} msgType message type refer to ```const Type```\n\t* @see Helper#Logger\n\t*/\n\tconst Logger = (msg, msgType)=>{\n\t\tmsgType = msgType | 'info';\n\t\tconst Display = {\n\t\t\t'info':console.log,\n\t\t\t'warn':console.warn,\n\t\t\t'error':console.error,\n\t\t};\n\t\ttry { \n\t\t\tDisplay[msgType](msg); \n\t\t} catch(e) {  \n\t\t\tDisplay['info'](msg); \n\t\t} \n\t}\n\treturn {\n\t\tsayhello: ()=>{return 'xin chao 2'},\t\n\t\tlogger: Logger,\n\t}\n}\nmodule.exports = Helper;\n// module.exports = Immutable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/skynet_helper.js"],"sourceRoot":""}